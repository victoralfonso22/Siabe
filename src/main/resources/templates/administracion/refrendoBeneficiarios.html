<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	>
<th:block th:include="/default/menu"></th:block>
<head>

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Siabe</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />




</head>
<body class="container-full">
	<input type=hidden th:id="permisoGlobal" th:value="${permisoGlobal}" />
	<div class="container bordeContainer">
	
			<div>
				<h1 class="h1Class">Refrendo de beneficarios</h1>
			</div>

			<div class="valoresCentrados">

		
			<div class="row " >
						<div class="col-xs-4" >
							<label for="idPeriodoRB">Periodo</label><br> <select onchange="cambiaPeriodoRB();"
								id="idPeriodoRB" 
								class="form-control selectTextFormulario">
								<option disabled selected value="">Selecciona periodo</option>
								<option th:each="periodo : ${periodos}"
									th:value="${periodo.idPeriodo}" th:text="${periodo.nombre}" style="white-space: pre-line;" ></option>
							</select>
						</div>
						
						<div class="col-xs-4" >
							<label for="idTipoBecaRB">Tipo de beca</label><br> <select onchange="cambiaTipoBecaRB();" disabled
								id="idTipoBecaRB" 
								class="form-control selectTextFormulario">
								<option selected value="">Selecciona región</option>
								<option th:each="tipoBeca : ${tipoBecas}"
									th:value="${tipoBeca.idTipoBeca}" th:text="${tipoBeca.nombre}"></option>
							</select>
						</div>
						
						<div class="col-xs-4" >
							<label for="idRegionRB">Región</label><br> <select onchange="cambiaRegionRB();" disabled
								id="idRegionRB" 
								class="form-control selectTextFormulario">
								<option selected value="">Selecciona región</option>
								<option th:each="region : ${regiones}"
									th:value="${region.idRegion}" th:text="${region.nombre}"></option>
							</select>
						</div>
						
						
				</div>
				<br/>
			
			
			<br/>
				
				<div class="row ">
						<div class="col-xs-4" style="margin:0 auto; float:none;">
							<label for="idPeriodoDestinoRB">Periodo destino</label><br> <select  disabled
								id="idPeriodoDestinoRB" 
								class="form-control selectTextFormulario">
								<option disabled selected value="">Selecciona periodo destino</option>
								<option th:each="periodom : ${periodosM}"
									th:value="${periodom.idPeriodo}" th:text="${periodom.nombre}"></option>
							</select>
						</div>
		
				</div>
			
		
			
	
			<div id="registros" style="display:none; margin: 0 auto;">
			
			
				
				<br/>
				<br/>
			<label class="customcheck" style="font-weight:bold; clear: both;">Marcar/Desmarcar Todos<input type="checkbox" id="checkTodosRB" name="checkPrincipal" /><span class="checkmark"></span></label>
			<br/>	
			<br/>	
			
			
			<table class="table tabla" id="registrosRB" >
				<tr><td><input type="hidden"  th:id="muestraRegistro" th:value="${muestraRegistro}"/></td></tr>
				<tr>
					<th>#</th>
					<th><label  style="color:#fff; font-weight: normal;">Matrícula</label></th>
					<th><label style="color:#fff; font-weight: normal;">Nombre</label></th>		
					<th><label  style="color:#fff; font-weight: normal;">Carrera</label></th>
					<th><label style="color:#fff; font-weight: normal;">Región</label></th>					
					
					<th><label  style="color:#fff; font-weight: normal;">Seleccionar</label></th>
				</tr>
					<th:block th:each="registrosTabla,iterationStatus : ${registrosTab}" >
				<tr   >							
					<td th:text="${iterationStatus.count}" ></td>
					<td  th:text="${registrosTabla.matricula}" ></td>
					<td  th:text="${registrosTabla.nombreCompletoBene}" ></td>					
					<td  th:text="${registrosTabla.region}" ></td>					
					<td  th:text="${registrosTabla.tipoBeca}" ></td>
					
			
									
					<td >  <label class="customcheck"><input type="checkbox" th:id="${registrosTabla.idBeneficiario}" th:value="${registrosTabla.idBeneficiario}" class="RB" > <span class="checkmark"></span></label></td>
								
					
				</tr>
				</th:block>
	
			</table>
			
			
			
			<div >
					<br> <br> <br>
					<button type="submit" id="btn-guardar-refrendo-beneficiario"
						class="btn btn-primary pull-center" onclick="guardarRB();">Guardar</button>
				</div>
			
			</div>
			
			</div>



<!-- Empieza el modal para la modificacion de los beneficiarios--->
		

		<div class="valoresCentrados" id="postResultDiv"></div>
		<div class="valoresCentrados" id="postResultDiv1"></div>
	</div>
	<div style="padding-top: 20px;">
	
		<th:block th:include="/default/pie"></th:block>
	</div>
</body>
<script src="/js/administracion.js"></script>
<script>const checkbox = document.getElementById('checkTodosRB')

checkbox.addEventListener('change', (event) => {
  if (event.target.checked) {
	  $("input:checkbox").prop('checked', true);
  } else {
	  $("input:checkbox").prop('checked', false);	  
  }
  
  $("input[name=tablaCheck]").each(function (index) { 

	 // habilitaDatos($(this).prop('id'));
       
    });
  
});</script>
</html>